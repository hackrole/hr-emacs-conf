Welcome to the Emacs shell

~ $ cdtmp 
~/Desktop/tmp $ ls
a.html    b.py      config_test.py                   eshell       listnotebooks.py  mongo_index       php                     qiniu_test.py  t.js   t.rst      tutorial
a.py      c.py      daipeng@daipeng.3540:1387849024  gae          mgeng_test.py     objectid.py       pyevernote_shownote.py  rst            t.org  test.conf  
argparse  chatdemo  echosever.py                     gbclient.py  mock              optparse_test.py  qiniu_test.conf         t              t.php  ttt.py     
~/Desktop/tmp $ cd tutorial/
~/Desktop/tmp/tutorial $ ls
Makefile  _templates      conf.py          emacs_help.rst  getting_started.rst  ipython_directive.rst  sphinxext
_static   cheatsheet.rst  custom_look.rst  extensions.rst  index.rst            pyplots                
~/Desktop/tmp/tutorial $ cd _templates/
~/Desktop/tmp/tutorial/_templates $ ls
layout.html
~/Desktop/tmp/tutorial/_templates $ ls
layout.html
~/Desktop/tmp/tutorial/_templates $ ls
layout.html
~/Desktop/tmp/tutorial/_templates $ cd _st
No such directory found via CDPATH environment variable
~/Desktop/tmp/tutorial/_templates $ cd ../_static/
~/Desktop/tmp/tutorial/_static $ ls
basic_screenshot.png  default.css  fancy_screenshot.png  logo.png
~/Desktop/tmp/tutorial/_static $ ls
basic_screenshot.png  default.css  fancy_screenshot.png  logo.png
~/Desktop/tmp/tutorial/_static $ cd ..
~/Desktop/tmp/tutorial $ ls
Makefile  _templates      conf.py          emacs_help.rst  getting_started.rst  ipython_directive.rst  sphinxext
_static   cheatsheet.rst  custom_look.rst  extensions.rst  index.rst            pyplots                
~/Desktop/tmp/tutorial $ cd sphinxext/
~/Desktop/tmp/tutorial/sphinxext $ ls
apigen.py  docscrape.py  docscrape_sphinx.py  inheritance_diagram.py  ipython_console_highlighting.py  numpydoc.py
~/Desktop/tmp/tutorial/sphinxext $ cdnote 
~/Desktop/program/note $ ls
README.md  c  elisp  emacs  gae  gblo_plan.org  learn_todo.org  make  plan.org  python  redis  scrapy  sphinx_and_markdown  sqlalchemy  vim  work
~/Desktop/program/note $ cd sphinx_and_markdown/
~/Desktop/program/note/sphinx_and_markdown $ ls
rst.org  sphinx_intro.org
~/Desktop/program/note/sphinx_and_markdown $ cat sphinx_intro.org 
#+Author: hackrole
#+Email: daipeng123456@gmail.com
#+Date: 2013-12-25
#+TITLE: 文档工具sphinx简介


* 入门
sphinx是一个用python实现的项目文档工具, 用来快速建立项目文档。
使用markdown(rst)作为文档源文件，自动生成多种格式的项目文档(html/pdf/latex等)

同时支持各种便捷的配置选项,和快捷命令(make/autodoc等)。

可以快速的配置生成的html文档的模板/主题等。

通过extension来扩展，功能强大而又有很好的扩展性。

* 起步

1) 安装
sudo pip install sphinx

2) 建立一个文档项目
sphinx-quickstart <目录名>

  1> 要注意的是是否把 build和source放到同一个目录

  2> 适当选择你需要的extension

  3> 配置make/项目名/作者/版本号等


3) 编写你的项目文档，修改主入门(index.rst)的 toctree指令, 加入需要的文件

文件使用相对路径，可以定制_template/themes, 也可以加入图片/js/css等静态文件

4) make html 或 sphinx-build -b html source-dir build-dir生成html格式文档项目

 


* 基本概念等

** 配置
sphinx的配置放在目录下conf.py中，可以手动修改此文件，文件内容为一般的python代码.

但是，要注意不完全是按照python的方式执行。

| conf category | desc                            | example                       |
|---------------+---------------------------------+-------------------------------|
| project       | some conf about the project     | project/version/..            |
| dir/files     | some conf about direction/files | source_suffix/source_encoding |
| template      | the template conf               | templates_path                |
| domain/role   |                                 |                               |
| ...           |                                 |                               |

** domain/role
domain/role的概念是为了快捷的引入模块/类/方法/函数帮助时，加入对不同语言的支持

** extension/扩展
以此来完成对sphinx的扩展, 除了一些已有好用的扩展(autodoc/math/ipython..),

你可以自己写extension来完成你需要的功能

** rst扩展
sphinx默认采用rst来作为文档源文件，不过扩展了rst的标签，加入了更多的功能


* TODO sphinx深入
** TODO 完成一个sphinx 文档项目(可以考虑argparse/loggin)等
1) 改写template
2) 改写themes
3) 尝试conf
4) 实验部分extension(autodoc/ipython..)
5) 实验sphinx-apidoc

** TODO 考虑实现一个自动完成(django mongoengine autodoc)扩展



~/Desktop/program/note/sphinx_and_markdown $ ls
rst.org  sphinx_intro.org
~/Desktop/program/note/sphinx_and_markdown $ cat rst.org 
#+Author: hackrole
#+Email: daipeng123456@gmail.com
#+Date: 2013-12-25
#+TITLE: rst格式小记
#+WARNING: not finish

* 文本样式


* 空格换行处理/pre/block


* 多种列表/list
** 无序列表/bullet list
+ 使用 -,+,* 后跟空格和文本内容
+ 列表前后必须有空行，中间空行可选
+ 列表项后的内容如果跨行，必须要注意缩进


** 有序列表/enumerated list
+ 通过1-9,A-z,罗马数字等后跟 . )等，跟空格加内容
+ 列表前后必须有空行，中间空行可选
+ 不必从1/a开始，支持#.自增索引

** 键值列表/definition list/dd
+ 键必须单独一行，值可以跨越多行并且需要缩进，键值之间不允许有空行
+ item之间要有空行

** 表格列表/field list
+ 键值在同一行通过空格来分开
+ 键需要::包围

** 命令行选项列表/option list

例子:
-f file  the file to use
-v   version to show
--version  tiem

* 章节/section/div
一个用=,-,+,_等包围或下划标题, 例如：

==========
title 1
==========

section1
==========

chap 1
----------

* 表格/table

* 图片与超链接

* 脚注与refer
~/Desktop/program/note/sphinx_and_markdown $ cdtmp 
~/Desktop/tmp $ ls
a.html    b.py      config_test.py                   eshell       listnotebooks.py  mock         optparse_test.py        qiniu_test.conf  t      t.php      ttt.py
a.py      c.py      daipeng@daipeng.3540:1387849024  gae          logging           mongo_index  php                     qiniu_test.py    t.js   t.rst      tutorial
argparse  chatdemo  echosever.py                     gbclient.py  mgeng_test.py     objectid.py  pyevernote_shownote.py  rst              t.org  test.conf  
~/Desktop/tmp $ mkdir org
~/Desktop/tmp $ cd org/
~/Desktop/tmp/org $ ls
~/Desktop/tmp/org $ cd
~ $ cd .emacs.d/temp/
~/.emacs.d/temp $ ls
ac-comphist.dat  backups  ede  emms  eshell
~/.emacs.d/temp $ mkdir w3m
~/.emacs.d/temp $ cd w3m/
~/.emacs.d/temp/w3m $ ls
~/.emacs.d/temp/w3m $ ls
~/.emacs.d/temp/w3m $ ll
ll: command not found
~/.emacs.d/temp/w3m $ ls -al
total 8
drwxrwxr-x   2 daipeng        daipeng  4096 2013-12-26 13:27 .
drwxrwxr-x   7 daipeng        daipeng  4096 2013-12-26 13:27 ..
~/.emacs.d/temp/w3m $ alias ll "ls -al"
~/.emacs.d/temp/w3m $ ll
total 8
drwxrwxr-x   2 daipeng        daipeng  4096 2013-12-26 13:27 .
drwxrwxr-x   7 daipeng        daipeng  4096 2013-12-26 13:27 ..
~/.emacs.d/temp/w3m $ alias la "ls -a"
~/.emacs.d/temp/w3m $ alias l "ls -l"
~/.emacs.d/temp/w3m $ l
total 0
~/.emacs.d/temp/w3m $ la
.  ..
~/.emacs.d/temp/w3m $ ll
total 8
drwxrwxr-x   2 daipeng        daipeng  4096 2013-12-26 13:27 .
drwxrwxr-x   7 daipeng        daipeng  4096 2013-12-26 13:27 ..
~/.emacs.d/temp/w3m $ ls
~/.emacs.d/temp/w3m $ 